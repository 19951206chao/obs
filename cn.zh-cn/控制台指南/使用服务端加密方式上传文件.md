# 使用服务端加密方式上传文件<a name="zh-cn_topic_0045829104"></a>

用户可根据需要对对象进行服务端加密，使对象更安全的存储在OBS中。

## 前提条件<a name="s0d643ba8bc99487da02b86a7664d2605"></a>

已通过IAM服务添加OBS所在区域的**KMS Administrator**权限。权限添加方法请参见《统一身份认证服务用户指南》。

KMS服务收费请参见Key Management Service收费详情。

## 操作步骤<a name="section16043441174915"></a>

1.  在OBS管理控制台桶列表中，单击待操作的桶，进入“概览”页面。
2.  在左侧导航栏，单击“对象”。
3.  单击“上传对象”，系统弹出“上传对象”对话框。
4.  选择待上传的文件后，单击“打开”。
5.  勾选“KMS加密”，在后面的选择框中选择您在数据加密服务中创建的KMS密钥。

    当勾选“KMS加密”后，KMS密钥会默认选中“obs/default”。您也可以通过单击“创建KMS密钥”进入数据加密服务页面创建的自定义的密钥加密上传对象，然后通过KMS密钥的下拉框选中您创建的KMS密钥。

    **图 1**  加密上传对象<a name="fig14151753141216"></a>  
    ![](figures/加密上传对象.png "加密上传对象")

6.  单击“上传”。

    对象上传成功后，可在对象列表中查看对象的加密状态。

    >![](public_sys-resources/icon-note.gif) **说明：**   
    >-   对象的加密状态不可以修改。  
    >-   使用中的密钥不可以删除，如果删除将导致加密对象不能下载。  


