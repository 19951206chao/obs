# 使用服务端加密方式上传文件<a name="zh-cn_topic_0045829104"></a>

用户可根据需要对对象进行服务端加密，使对象更安全的存储在OBS中。

## 前提条件<a name="section4075144143524"></a>

-   已通过IAM服务添加OBS所在区域的**KMS Administrator**权限。权限添加方法请参见《统一身份认证服务用户指南》的“如何管理用户组并授权？”章节。
-   如果用户需要使用自定义密钥加密上传对象，则需要先通过数据加密服务创建密钥。使用数据加密服务创建密钥详情请参见《数据加密服务用户指南》的“创建密钥”章节。

## 操作步骤<a name="section16043441174915"></a>

1.  在OBS管理控制台桶列表中，单击待操作的桶，进入“概览”页面。
2.  在左侧导航栏，单击“对象”。
3.  单击“上传”或者选择目标文件夹后单击“上传”，进入“上传”页面。
4.  选择待上传的文件后，单击“打开”。
5.  勾选“KMS加密”，在后面的选择框中选择密钥名称，并单击“确定”，如[图1](#fig14151753141216)所示。

    **图 1**  加密上传对象<a name="fig14151753141216"></a>  
    ![](figures/加密上传对象.png "加密上传对象")

    密钥名称：用户主密钥名称，是用户在数据加密服务中创建的密钥，主要用于加密保护数据。OBS会提供一个名为“obs/default”的默认密钥，用户可以选择使用默认密钥加密上传对象，也可以通过数据加密服务页面创建的自定义的密钥加密上传对象。

6.  **可选**：对象上传成功后，可在对象列表中查看对象的加密状态。

    >![](public_sys-resources/icon-note.gif) **说明：**   
    >-   对象的加密状态不可以修改。  
    >-   使用中的密钥不可以删除，如果删除将导致加密对象不能下载。  


