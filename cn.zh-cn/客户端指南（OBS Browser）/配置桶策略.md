# 配置桶策略<a name="zh-cn_topic_0045829128"></a>

桶策略定义了OBS中的资源（桶和对象）的访问控制策略。

## 操作步骤<a name="sa9ce61a965cf44278ecdea3220e325dd"></a>

1.  登录OBS Browser。
2.  选择待配置的桶，单击“更多 \> 配置桶策略”。
3.  根据需求在“配置桶策略”输入框中按照如下格式输入桶策略：

    桶策略各字段含义如[表1](#t90f413f7432b4558b68c408483fd2be9)所示。除“Effect”字段为必选外，其他字段均为可选字段。

    **表 1**  桶策略各字段含义

    <a name="t90f413f7432b4558b68c408483fd2be9"></a>
    <table><thead align="left"><tr id="r76e46083a7d54583b866b710d57a869b"><th class="cellrowborder" valign="top" width="16.24%" id="mcps1.2.4.1.1"><p id="a9f330eae4b1445d9bd50f9aee100fedb"><a name="a9f330eae4b1445d9bd50f9aee100fedb"></a><a name="a9f330eae4b1445d9bd50f9aee100fedb"></a>字段</p>
    </th>
    <th class="cellrowborder" valign="top" width="76.24%" id="mcps1.2.4.1.2"><p id="ade48ab9c0cee409cb2d3be53e627432c"><a name="ade48ab9c0cee409cb2d3be53e627432c"></a><a name="ade48ab9c0cee409cb2d3be53e627432c"></a>描述</p>
    </th>
    <th class="cellrowborder" valign="top" width="7.5200000000000005%" id="mcps1.2.4.1.3"><p id="aa22db190a3b249858056287fa2a41496"><a name="aa22db190a3b249858056287fa2a41496"></a><a name="aa22db190a3b249858056287fa2a41496"></a>是否可选</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="r37b6d3a82f2c41ab9f69396983c71926"><td class="cellrowborder" valign="top" width="16.24%" headers="mcps1.2.4.1.1 "><p id="a615391a7b87c446dbc6036f21444ec60"><a name="a615391a7b87c446dbc6036f21444ec60"></a><a name="a615391a7b87c446dbc6036f21444ec60"></a>Version</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.24%" headers="mcps1.2.4.1.2 "><p id="ae3b32b0875da4e6a8eabc2becb00a9e8"><a name="ae3b32b0875da4e6a8eabc2becb00a9e8"></a><a name="ae3b32b0875da4e6a8eabc2becb00a9e8"></a>当前支持的取值为“2008-10-17”或“2012-10-17”。</p>
    </td>
    <td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.3 "><p id="aa77b671e052e4e78b047b721a4f145a3"><a name="aa77b671e052e4e78b047b721a4f145a3"></a><a name="aa77b671e052e4e78b047b721a4f145a3"></a>可选</p>
    </td>
    </tr>
    <tr id="rdbb1644385db43279b36f8a44dfa88b8"><td class="cellrowborder" valign="top" width="16.24%" headers="mcps1.2.4.1.1 "><p id="adc42ec63f7514e51979d28c0e5d1c5e9"><a name="adc42ec63f7514e51979d28c0e5d1c5e9"></a><a name="adc42ec63f7514e51979d28c0e5d1c5e9"></a>Id</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.24%" headers="mcps1.2.4.1.2 "><p id="a828a97a16dcb41efad1246d7534f2dbd"><a name="a828a97a16dcb41efad1246d7534f2dbd"></a><a name="a828a97a16dcb41efad1246d7534f2dbd"></a>桶策略ID，桶策略的唯一标识。</p>
    </td>
    <td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.3 "><p id="a13cb2f6bd41f4ef3ba7a5fce5941fe26"><a name="a13cb2f6bd41f4ef3ba7a5fce5941fe26"></a><a name="a13cb2f6bd41f4ef3ba7a5fce5941fe26"></a>可选</p>
    </td>
    </tr>
    <tr id="r9b53ca8e1b774da29a1ce3808fff149c"><td class="cellrowborder" valign="top" width="16.24%" headers="mcps1.2.4.1.1 "><p id="abcbf9eb4a1054ad2a697318b6bd890e3"><a name="abcbf9eb4a1054ad2a697318b6bd890e3"></a><a name="abcbf9eb4a1054ad2a697318b6bd890e3"></a>Statement</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.24%" headers="mcps1.2.4.1.2 "><p id="a6a5c216cd1aa40f0b60d5711b95cdef3"><a name="a6a5c216cd1aa40f0b60d5711b95cdef3"></a><a name="a6a5c216cd1aa40f0b60d5711b95cdef3"></a>桶策略描述，定义完整的权限控制。每条桶策略的Statement可由多条描述（statement）组成，每条描述可包含以下字段：</p>
    <a name="u1aecb422630444f9a819613f2cd1fcfd"></a><a name="u1aecb422630444f9a819613f2cd1fcfd"></a><ul id="u1aecb422630444f9a819613f2cd1fcfd"><li>Sid</li><li>Effect</li><li>Principal</li><li>NotPrincipal</li><li>Action</li><li>NotAction</li><li>Resource</li><li>NotResource</li><li>Condition</li></ul>
    </td>
    <td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.3 "><p id="a6c3d65f385cb43019d9cff48552811d2"><a name="a6c3d65f385cb43019d9cff48552811d2"></a><a name="a6c3d65f385cb43019d9cff48552811d2"></a>必选</p>
    </td>
    </tr>
    <tr id="re811dabc0b744a9db97c15075b0666c2"><td class="cellrowborder" valign="top" width="16.24%" headers="mcps1.2.4.1.1 "><p id="adeea10edb32442ceb79834f2407894f3"><a name="adeea10edb32442ceb79834f2407894f3"></a><a name="adeea10edb32442ceb79834f2407894f3"></a>Effect</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.24%" headers="mcps1.2.4.1.2 "><p id="abb507befc309403e973caed0ef17a9b5"><a name="abb507befc309403e973caed0ef17a9b5"></a><a name="abb507befc309403e973caed0ef17a9b5"></a>桶策略的效果，即指定本条桶策略描述的权限是接受请求还是拒绝请求，取值必须为“Allow”或“Deny”。</p>
    </td>
    <td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.3 "><p id="a58481dae19464eb795944c0f77c1746f"><a name="a58481dae19464eb795944c0f77c1746f"></a><a name="a58481dae19464eb795944c0f77c1746f"></a>必选</p>
    </td>
    </tr>
    <tr id="rb4776c5d34994af39494c4853d4a05eb"><td class="cellrowborder" valign="top" width="16.24%" headers="mcps1.2.4.1.1 "><p id="acb40787b51ff475c88f9429d20931a7f"><a name="acb40787b51ff475c88f9429d20931a7f"></a><a name="acb40787b51ff475c88f9429d20931a7f"></a>Sid</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.24%" headers="mcps1.2.4.1.2 "><p id="a6b289a4511a34acda6967a3a29fde76d"><a name="a6b289a4511a34acda6967a3a29fde76d"></a><a name="a6b289a4511a34acda6967a3a29fde76d"></a>本条桶策略描述的ID。</p>
    </td>
    <td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.3 "><p id="ab10401c22da84465bff2559b47386704"><a name="ab10401c22da84465bff2559b47386704"></a><a name="ab10401c22da84465bff2559b47386704"></a>可选</p>
    </td>
    </tr>
    <tr id="rd3c89d23a35f4f528c9cd1c343d9eb6c"><td class="cellrowborder" valign="top" width="16.24%" headers="mcps1.2.4.1.1 "><p id="a791a73fba0f141b497d21808d7ba4936"><a name="a791a73fba0f141b497d21808d7ba4936"></a><a name="a791a73fba0f141b497d21808d7ba4936"></a>Principal/NotPrincipal</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.24%" headers="mcps1.2.4.1.2 "><p id="aa07e0a51e82a4fd99937eb3071f6c437"><a name="aa07e0a51e82a4fd99937eb3071f6c437"></a><a name="aa07e0a51e82a4fd99937eb3071f6c437"></a>被授权人，即指定本条桶策略描述所作用的用户。</p>
    <p id="a13176cf37f534f75b1bb48a03c796c22"><a name="a13176cf37f534f75b1bb48a03c796c22"></a><a name="a13176cf37f534f75b1bb48a03c796c22"></a>“Principal”和“NotPrincipal”必须二选其一，指定所作用于或不作用于某用户。</p>
    </td>
    <td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.3 "><p id="ac66e9f7d22c048a78fc6bc19d85b3daa"><a name="ac66e9f7d22c048a78fc6bc19d85b3daa"></a><a name="ac66e9f7d22c048a78fc6bc19d85b3daa"></a>必选</p>
    </td>
    </tr>
    <tr id="re157b39294c34983a344bdd2c19d3867"><td class="cellrowborder" valign="top" width="16.24%" headers="mcps1.2.4.1.1 "><p id="ad301d40b837a4d808b3ade5e40303f19"><a name="ad301d40b837a4d808b3ade5e40303f19"></a><a name="ad301d40b837a4d808b3ade5e40303f19"></a>Action/NotAction</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.24%" headers="mcps1.2.4.1.2 "><p id="afe04e5f242e546bb9ba2d0527af3d34c"><a name="afe04e5f242e546bb9ba2d0527af3d34c"></a><a name="afe04e5f242e546bb9ba2d0527af3d34c"></a>操作，即指定本条桶策略描述所作用的OBS操作。</p>
    <p id="af08cacea86e44fceb08b23dcef32a160"><a name="af08cacea86e44fceb08b23dcef32a160"></a><a name="af08cacea86e44fceb08b23dcef32a160"></a>“Action”和“NotAction”必须二选其一，指定该OBS操作是否生效。</p>
    </td>
    <td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.3 "><p id="a5cd8ed2c61f348de990ca923abf0b2ea"><a name="a5cd8ed2c61f348de990ca923abf0b2ea"></a><a name="a5cd8ed2c61f348de990ca923abf0b2ea"></a>必选</p>
    </td>
    </tr>
    <tr id="r1b58c573b77d42d6aadcd4321ea261ef"><td class="cellrowborder" valign="top" width="16.24%" headers="mcps1.2.4.1.1 "><p id="ae72aee7b2c02460e9cc37200a5e2ba8b"><a name="ae72aee7b2c02460e9cc37200a5e2ba8b"></a><a name="ae72aee7b2c02460e9cc37200a5e2ba8b"></a>Resource/NotResource</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.24%" headers="mcps1.2.4.1.2 "><p id="a851f0a72bf774eb8b15f76e4b054de25"><a name="a851f0a72bf774eb8b15f76e4b054de25"></a><a name="a851f0a72bf774eb8b15f76e4b054de25"></a>资源，即指定本条桶策略描述所作用的对象。</p>
    <p id="aaa19587fb1e14b49a31f4c9e9cc17200"><a name="aaa19587fb1e14b49a31f4c9e9cc17200"></a><a name="aaa19587fb1e14b49a31f4c9e9cc17200"></a>“Resource”和“NotResource”必须二选其一，指定是否针对该OBS资源生效。</p>
    </td>
    <td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.3 "><p id="a69e88c1bcd29489ea748671680a5d3cc"><a name="a69e88c1bcd29489ea748671680a5d3cc"></a><a name="a69e88c1bcd29489ea748671680a5d3cc"></a>必选</p>
    </td>
    </tr>
    <tr id="rc844bea9ce534b2d8897afa8961769a3"><td class="cellrowborder" valign="top" width="16.24%" headers="mcps1.2.4.1.1 "><p id="a10df44ea04524424a173bf17d7de7aec"><a name="a10df44ea04524424a173bf17d7de7aec"></a><a name="a10df44ea04524424a173bf17d7de7aec"></a>Condition</p>
    </td>
    <td class="cellrowborder" valign="top" width="76.24%" headers="mcps1.2.4.1.2 "><p id="adda00a6ecf9f45fcbb6fbcea7ea55f5f"><a name="adda00a6ecf9f45fcbb6fbcea7ea55f5f"></a><a name="adda00a6ecf9f45fcbb6fbcea7ea55f5f"></a>本条Statement生效的条件。</p>
    </td>
    <td class="cellrowborder" valign="top" width="7.5200000000000005%" headers="mcps1.2.4.1.3 "><p id="a0eef764f8bba4023be7c6aeb8f608e07"><a name="a0eef764f8bba4023be7c6aeb8f608e07"></a><a name="a0eef764f8bba4023be7c6aeb8f608e07"></a>可选</p>
    </td>
    </tr>
    </tbody>
    </table>

4.  单击“保存”。

